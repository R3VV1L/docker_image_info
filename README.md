# Docker Container Info Script

Этот скрипт предоставляет удобный способ получения ключевой информации о контейнерах Docker, запущенных из указанного образа. Скрипт использует команду `docker inspect` для извлечения данных и выводит только самое важное.

## Оглавление
1. [Требования](#требования)
2. [Установка](#установка)
3. [Использование](#использование)
4. [Доступные поля](#доступные-поля)
5. [Дополнительные функции](#дополнительные-функции)
6. [Примеры использования](#примеры-использования)

## Требования

- Установленный Docker.
- Доступ к команде `docker` от имени пользователя с правами на выполнение `docker inspect`.

## Установка

1. Скачайте скрипт:
   ```bash
   git clone https://github.com/R3VV1L/docker_image_info.git
   ```
   (Замените ссылку на актуальную, если скрипт размещен где-то.)

2. Сделайте скрипт исполняемым:
   ```bash
   chmod +x docker_image_info.sh
   ```

3. Переместите скрипт в директорию, доступную для выполнения (опционально):
   ```bash
   sudo mv docker_image_info.sh /usr/local/bin/
   ```

## Использование

Запустите скрипт, указав имя образа или его ID:
```bash
./docker_image_info.sh <имя_образа_или_ID>
```

### Пример
```bash
./docker_image_info.sh prom/node-exporter
```

## Доступные поля

Скрипт выводит следующие поля:
- **ID**: Уникальный идентификатор контейнера.
- **Имя**: Имя контейнера.
- **Статус**: Текущий статус контейнера (например, `running`, `exited`).
- **Запущен**: Время запуска контейнера.
- **Образ**: Имя образа, из которого запущен контейнер.
- **Команда**: Команда, с которой запущен контейнер.
- **Порты**: Проброшенные порты.
- **IP-адрес**: IP-адрес контейнера в сети Docker.
- **MAC**: MAC-адрес контейнера.
- **Шлюз**: Шлюз сети Docker.
- **Метки**: Метки контейнера (labels).
- **Рестарт политика**: Политика перезапуска контейнера.
- **Привилегии**: Привилегированный режим контейнера.


## Дополнительные функции
### 1. **Поддержка JSON-вывода**
Используйте `--format json` для вывода информации в формате JSON.
### 2. **Фильтрация контейнеров**
Используйте `--filter <ключ=значение>` для фильтрации контейнеров по меткам.
### 3. **Цветной вывод**
Статус контейнера выделяется цветом (зеленый для `running`, красный для остальных).
### 4. **Логирование**
Все действия логируются в файл `/var/log/docker_info.log`.
### 5. **Поддержка Docker Compose**
Используйте `--compose-file <файл>` для работы с контейнерами из Docker Compose.
### 6. **Экспорт данных**
Используйте `--export csv` или `--export json` для экспорта данных в файл.
### 7. **Обработка ошибок**
Добавлена проверка наличия Docker и обработка ошибок ввода.
### 8. **Интерактивный режим**
Используйте `--interactive` для выбора контейнера из списка.
### 9. **Документация и помощь**
Используйте `--help` для вывода справки.


## Примеры использования
### 1. **Вывод информации в текстовом формате**
```bash
./docker_image_info.sh prom/node-exporter
```
### 2. **Вывод информации в JSON**
```bash
./docker_image_info.sh --format json prom/node-exporter
```
### 3. **Фильтрация по метке**
```bash
./docker_image_info.sh --filter "label=com.docker.compose.service=node_exporter" prom/node-exporter
```
### 4. **Использование Docker Compose**
```bash
./docker_image_info.sh --compose-file docker-compose.yml
```
### 5. **Экспорт в CSV**
```bash
./docker_image_info.sh --export csv prom/node-exporter
```
### 6. **Интерактивный режим**
```bash
./docker_image_info.sh --interactive prom/node-exporter
```
### 7. **Помощь**
```bash
./docker_image_info.sh --help
```
